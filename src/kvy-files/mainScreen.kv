<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Welcome to Choreography Creator'
        Button:
            text: 'Load audio metadata'
            on_press: root.select_n_refresh_ChoreoLoader()#root.manager.current = 'Load audio metadata'
        Button:
            text: 'Create New Choreography'
            on_press: root.manager.current = 'RawSongLoader'
        Button:
            text: 'Quit'
            on_press: quit()

<FileChooserScreen_Choreography>:
    BoxLayout:
        id: topLevel_filechooser
        orientation: 'vertical'
        Label:
            text: "Chose a Choreography"
            size_hint_y: 0.2
        FileChooserListView:
            id: loader
            path: 'temp'
            filters: ['*.xml']
            filter_dirs: True
            size_hint_y: 0.7
            #on_selection: root.show
        Button:
            text: 'Load'
            size_hint_y: 0.2
            on_press: root.on_pressed_load()
        Button:
            text: 'Back'
            size_hint_y: 0.1
            on_press: root.manager.current = 'menu'

<FileChooserScreen_Song>:
    BoxLayout:
        id: topLevel_filechooser
        orientation: 'vertical'
        Label:
            text: "Chose a Song"
            size_hint_y: 0.2
        FileChooserListView:
            id: loader
            path: 'temp'
            filters: ['*.mp3']
            filter_dirs: True
            size_hint_y: 0.7
            #on_selection: root.show
        Button:
            text: 'Load'
            size_hint_y: 0.2
            on_press: root.on_pressed_load()
        Button:
            text: 'Back'
            size_hint_y: 0.1
            on_press: root.manager.current = 'menu'

<SegmentCreatorScreen@Screen>:
    BoxLayout:
        id: topElement
        orientation: 'vertical'
        Label:
            id: songTitle
            text: "Song title"
            size_hint_y: 0.1
        BoxLayout:
            id: waveform_holder
            orientation: "vertical"
            size_hint_y: 0.7

        Button:
            id: tagBtn
            text: 'Tag segment'
            size_hint_y: 0.2
            on_press: root.toggle_tag()
        Button:
            id: playBtn
            text: 'Play'
            size_hint_y: 0.2
            on_press: root.enable_playback()

        Button:
            id: saveBtn
            text: 'Save'
            size_hint_y: 0.1
            on_press: root.save()
        Button:
            text: 'Back'
            size_hint_y: 0.1
            on_press: root.manager.current = 'menu'

<SegmentSelectorScreen>:
    id: topSelectorScreen
    BoxLayout:
        id: segmentSelector
        orientation: 'vertical'
        Label:
            id: title
            text: 'Song name here'
            size_hint_y: 0.2

        ScrollView:
            id: scrollViewLayout
            size_hint_y: 0.7
            bar_width: 10.0
            GridLayout:
                id: PartLayout
                cols: 2

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.2
            Button:
                id: playbtn
                text: 'play'
                size_hint_x: 0.8
                on_press: root.on_pressed_play()
            Label:
                text: 'loop'
                size_hint_x: 0.2
            CheckBox:
                id: loop
                size_hint_x: 0.1
                on_active: root.shouldLoop = loop.active
        Button:
            text: 'Back'
            size_hint_y: 0.1
            on_press: root.manager.current = 'menu'
